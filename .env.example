# CN5-Lite 环境变量配置模板
# 复制此文件为 .env 并填入实际值

# ==================
# 数据库配置
# ==================
DATABASE_URL=postgresql://cn5user:cn5pass@localhost:5432/cn5lite
DB_PASSWORD=cn5pass

# ==================
# Redis配置
# ==================
REDIS_URL=redis://localhost:6379/0

# ==================
# AI模型配置
# ==================
# API密钥（必需）
AI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# API基础URL（可选，留空使用OpenAI）
# DeepSeek: https://api.deepseek.com/v1
# Qwen: https://dashscope.aliyuncs.com/compatible-mode/v1
AI_BASE_URL=https://api.deepseek.com/v1

# 模型名称
AI_MODEL=deepseek-chat

# ==================
# 数据源配置
# ==================
# 数据源优先级（逗号分隔）
DATA_SOURCE_PRIORITY=akshare,baostock,efinance

# 数据缓存天数
DATA_CACHE_DAYS=30

# ==================
# 风控配置（比例制）
# ==================
# 总资金止损比例
TOTAL_STOP_LOSS_RATIO=0.10

# 单日亏损限制比例
DAILY_LOSS_LIMIT_RATIO=0.05

# 单策略最大资金占用比例
MAX_POSITION_RATIO=0.20

# 单笔交易限制比例
SINGLE_TRADE_LIMIT_RATIO=0.20

# 异常交易频率限制（笔/小时）
MAX_TRADE_FREQUENCY_PER_HOUR=20

# ==================
# 交易模式
# ==================
# 交易模式: simulation(模拟盘) / live(实盘)
TRADING_MODE=simulation

# AI自动交易免确认金额阈值（元）
AUTO_APPROVE_THRESHOLD=3000

# AI交易管理器是否需要确认
REQUIRE_APPROVAL=false

# ==================
# 回测配置
# ==================
# 初始资金（元）
INITIAL_CASH=100000

# 是否启用A股规则
ENABLE_CHINA_RULES=true

# 佣金率
COMMISSION_RATE=0.0003

# 最低佣金（元）
MIN_COMMISSION=5.0

# 印花税率（仅卖出）
TAX_RATE=0.001

# 滑点比例
SLIPPAGE=0.001

# ==================
# 影子账户配置
# ==================
# 默认观察天数
SHADOW_OBSERVATION_DAYS=7

# 晋升评分阈值
SHADOW_PROMOTION_SCORE=35.0

# 最低观察天数
SHADOW_MIN_OBSERVATION_DAYS=14

# ==================
# 安全配置
# ==================
# 策略代码执行超时（秒）
STRATEGY_EXECUTION_TIMEOUT=30

# 启用策略逻辑测试
ENABLE_STRATEGY_LOGIC_TEST=true

# ==================
# 日志配置
# ==================
# 日志级别: DEBUG / INFO / WARNING / ERROR / CRITICAL
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE_PATH=logs/cn5lite.log

# ==================
# Sentry错误追踪（可选）
# ==================
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# ==================
# Celery配置
# ==================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ==================
# 开发/调试
# ==================
# 环境: development / production
ENVIRONMENT=development

# 是否开启调试模式
DEBUG=true

# FastAPI重载
RELOAD=true
